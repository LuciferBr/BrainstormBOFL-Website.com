<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Brainstorm - Inspire Global Change</title>
    <!-- Load PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.10.1/core.css">
    <script defer src="https://pyscript.net/releases/2024.10.1/core.js" type="module"></script>
    <style>
        /* Reset for cross-browser consistency */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #f7fafc; /* Light mode default */
            color: #2d3748;
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            min-height: 100vh;
            overscroll-behavior: none;
        }
        nav {
            background: linear-gradient(135deg, #48bb78, #4299e1); /* Light mode nav */
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 10;
            transition: background 0.3s ease;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 5px 10px;
        }
        .logo img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: block;
        }
        .logo span {
            font-size: clamp(20px, 5vw, 24px);
            font-weight: 700;
            color: white;
            letter-spacing: 1px;
        }
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 5px 10px;
            justify-content: center;
        }
        nav button {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            font-size: clamp(14px, 4vw, 16px);
            font-weight: 500;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }
        nav button:hover, nav button.active {
            background: #ffffff;
            color: #48bb78;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #content {
            padding: clamp(15px, 5vw, 30px);
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        section {
            display: none;
            background: #ffffff; /* Light mode section */
            padding: clamp(15px, 5vw, 25px);
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.05);
            animation: fadeIn 0.5s ease-in;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        h1 {
            color: #48bb78;
            font-size: clamp(24px, 6vw, 36px);
            margin-bottom: 20px;
            font-weight: 700;
        }
        h2 {
            color: #4299e1;
            font-size: clamp(20px, 5vw, 24px);
            margin-top: 20px;
        }
        p, li {
            font-size: clamp(16px, 4vw, 18px);
            color: #4a5568;
            transition: color 0.3s ease;
        }
        #chatBox, #gameArea {
            border: 1px solid #e2e8f0;
            height: clamp(300px, 60vh, 450px);
            overflow-y: auto;
            padding: 15px;
            background: #fff;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            -webkit-overflow-scrolling: touch;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        .message, .game-output {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 85%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            animation: slideIn 0.3s ease;
            transition: background 0.3s ease;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .user {
            background: #4299e1; /* Light mode user message */
            color: #ffffff;
            margin-left: auto;
            text-align: right;
        }
        .ai, .game-output {
            background: #48bb78; /* Light mode AI/game output */
            color: #ffffff;
            margin-right: auto;
            text-align: left;
        }
        #inputArea, #gameInputArea {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            align-items: center;
        }
        #userInput, #gameInput {
            flex: 1;
            min-width: 200px;
            padding: 10px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            font-size: clamp(14px, 4vw, 16px);
            background: #edf2f7;
            color: #2d3748;
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease, color 0.3s ease;
        }
        #userInput:focus, #gameInput:focus {
            border-color: #48bb78;
            box-shadow: 0 0 8px rgba(72,187,120,0.2);
            outline: none;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #48bb78;
            color: white;
            cursor: pointer;
            font-size: clamp(14px, 4vw, 16px);
            font-weight: 500;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }
        button:hover {
            background: #4299e1;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #controls, #gameControls {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        #categoryFilter, #gameSelect {
            padding: 10px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            font-size: clamp(14px, 4vw, 16px);
            background: #edf2f7;
            color: #2d3748;
            cursor: pointer;
            transition: border-color 0.3s ease, background 0.3s ease, color 0.3s ease;
            min-width: 150px;
        }
        #categoryFilter:focus, #gameSelect:focus {
            border-color: #48bb78;
            outline: none;
        }
        /* Dark Mode Styles */
        .dark-theme {
            background: #1a202c; /* Dark mode background */
            color: #e2e8f0;
        }
        .dark-theme nav {
            background: linear-gradient(135deg, #2f855a, #2b6cb0); /* Darker gradient */
        }
        .dark-theme nav button {
            background: rgba(255,255,255,0.1);
        }
        .dark-theme nav button:hover, .dark-theme nav button.active {
            background: #e2e8f0;
            color: #2f855a;
        }
        .dark-theme section, .dark-theme #chatBox, .dark-theme #gameArea {
            background: #2d3748;
            border-color: #4a5568;
        }
        .dark-theme .user {
            background: #2b6cb0; /* Dark mode user message */
        }
        .dark-theme .ai, .dark-theme .game-output {
            background: #2f855a; /* Dark mode AI/game output */
        }
        .dark-theme #userInput, .dark-theme #gameInput, 
        .dark-theme #categoryFilter, .dark-theme #gameSelect {
            background: #4a5568;
            border-color: #718096;
            color: #e2e8f0;
        }
        .dark-theme p, .dark-theme li {
            color: #e2e8f0;
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            nav {
                padding: 10px;
                flex-direction: column;
                gap: 10px;
            }
            .nav-buttons {
                gap: 8px;
            }
            nav button {
                padding: 8px 15px;
            }
            #inputArea, #controls, #gameInputArea, #gameControls {
                flex-direction: column;
            }
            #userInput, #gameInput, button, #categoryFilter, #gameSelect {
                width: 100%;
                min-width: unset;
            }
            #chatBox, #gameArea {
                height: 50vh;
            }
        }
        @media (max-width: 480px) {
            .logo span {
                font-size: 18px;
            }
            nav button {
                padding: 6px 12px;
                font-size: 14px;
            }
            h1 {
                font-size: 24px;
            }
            h2 {
                font-size: 20px;
            }
            p, li {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIySURBVHgB7VfbUcMwFLVBUbGACViwgAkLGLCACQvEAgYsYMIChmLBAiYsYMIChmLBAgYbMDg2s5uZnSfb7e7Jk+T5/QeA/S2A7e3t7VprW1paWltb+7ZtW1tbW1paWltbW1tbe9vb29vb29vb2/Xr1+vXr19fX79+/Xr58uX169evly9fvnx5eXl5eXl5eXnp6enp6elpaWlpaWlpaWlpaWlp6enp6enp6WxsbGxs+vXr1+vXr19fX79+/Xr58uX169evly9fvnx5eXl5eXl5eXnp6enp6elpaWlpaWlpaWlpaWlp6enp6enp6WxsbGxs7Ozs7OzsbGxs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Oy8A/z8M4uUfmUAAAAASUVORK5CYII=" alt="Brainstorm Logo">
            <span>Brainstorm</span>
        </div>
        <div class="nav-buttons">
            <button id="homeBtn" class="active">Home</button>
            <button id="aboutBtn">About</button>
            <button id="igcBtn">IGC</button>
            <button id="plansBtn">Plans & Progress</button>
            <button id="gameBtn">Game</button>
            <button id="themeToggle">Dark Mode</button>
        </div>
    </nav>
    <div id="content">
        <section id="home" class="active">
            <h1>Welcome to Brainstorm</h1>
            <p>Brainstorm is your creative hub to ignite global change, powered by Inspire Global Change (IGC). We’re dedicated to sparking innovative ideas, fostering collaboration, and driving meaningful action to address the world’s most pressing challenges. Whether it’s climate action, social equity, or sustainable living, Brainstorm connects communities, empowers individuals, and amplifies voices for a brighter, more inclusive future.</p>
            <h2>Why Brainstorm?</h2>
            <p>In a world facing unprecedented crises, creativity is our greatest asset. Brainstorm provides tools, inspiration, and a platform to turn ideas into impact. From interactive chats with our AI assistant to brainstorming games, we’re here to help you explore possibilities, connect with like-minded changemakers, and take tangible steps toward a better tomorrow.</p>
            <h2>Get Involved</h2>
            <p>Join our growing community of over 1,000 users across 3 continents. Explore our IGC chat, play brainstorming games, or dive into our plans and progress. Together, we can transform awareness into action—let’s shape the future, one idea at a time.</p>
        </section>
        <section id="about">
            <h1>About Brainstorm</h1>
            <p>Brainstorm is a platform built to foster innovation, collaboration, and real-world impact. Launched in 2025, our mission is to empower individuals, organizations, and communities to tackle global challenges—climate change, inequality, sustainability—through collective creativity and actionable solutions. We believe that every idea has the potential to spark a movement, and every voice matters in building a more equitable world.</p>
            <h2>Our Vision</h2>
            <p>We envision a world where global challenges are met with bold ideas and united efforts. By blending technology, education, and community engagement, Brainstorm aims to be the catalyst for sustainable change, bridging gaps between thinkers, doers, and dreamers across the globe.</p>
            <h2>Who We Are</h2>
            <p>Founded by a team of innovators and activists, Brainstorm combines cutting-edge Python-powered tools with a passion for progress. Our community includes environmentalists, educators, technologists, and everyday people—all united by a shared goal: to inspire and enact global transformation.</p>
            <h2>Our Approach</h2>
            <p>We focus on three pillars: <strong>Inspiration</strong> (through our IGC chat and games), <strong>Collaboration</strong> (via community partnerships), and <strong>Action</strong> (by turning ideas into projects). Join us to explore, create, and contribute to a legacy of change.</p>
        </section>
        <section id="igc">
            <h1>Inspire Global Change (IGC)</h1>
            <p>IGC is the soul of Brainstorm—a movement to inspire and enact transformation worldwide. Chat with our Python-powered assistant to explore ideas, get inspired, and fuel your passion for change.</p>
            <div id="chatBox"></div>
            <div id="inputArea">
                <input type="text" id="userInput" placeholder="Ask about global change, sustainability, or anything inspiring...">
                <button id="sendButton">Send</button>
            </div>
            <div id="controls">
                <button id="clearChat">Clear Chat</button>
                <button id="saveChat">Save Chat</button>
                <select id="categoryFilter">
                    <option value="all">All Categories</option>
                    <option value="climate">Climate</option>
                    <option value="technology">Technology</option>
                    <option value="sustainability">Sustainability</option>
                    <option value="unity">Unity</option>
                    <option value="youth">Youth</option>
                    <option value="education">Education</option>
                    <option value="equality">Equality</option>
                    <option value="collective">Collective Action</option>
                    <option value="peace">Peace</option>
                    <option value="local">Local Action</option>
                    <option value="mental">Mental Health</option>
                </select>
            </div>
        </section>
        <section id="plans">
            <h1>Plans & Progress</h1>
            <h2>Our Plans</h2>
            <ul>
                <li>Launch worldwide brainstorming campaigns by Q2 2025.</li>
                <li>Partner with 50+ communities for local action initiatives by 2026.</li>
                <li>Create open-source educational resources for sustainability by 2027.</li>
            </ul>
            <h2>Progress</h2>
            <p>We’ve engaged 1,000+ users, launched 5 pilot projects across 3 continents, and built this app to amplify global change ideas—join us on this journey!</p>
        </section>
        <section id="game">
            <h1>Brainstorming Games</h1>
            <p>Unleash your creativity with our brainstorming games! Select a game, enter your ideas, and watch inspiration unfold. Perfect for sparking new solutions to global challenges.</p>
            <div id="gameArea"></div>
            <div id="gameInputArea">
                <input type="text" id="gameInput" placeholder="Enter your idea or prompt...">
                <button id="playGame">Play</button>
            </div>
            <div id="gameControls">
                <button id="clearGame">Clear</button>
                <select id="gameSelect">
                    <option value="wordAssociation">Word Association</option>
                    <option value="ideaChain">Idea Chain</option>
                    <option value="whatIf">What If?</option>
                </select>
            </div>
        </section>
    </div>

    <!-- Python-only logic with PyScript -->
    <script type="py" config='{"dependencies": []}'>
        from pyscript import document
        import random
        from datetime import datetime
        from js import document as js_doc, window

        # Categorized inspirational responses
        responses = {
            "climate": ["Inspiring action on climate change starts with telling stories that connect hearts to the planet. It's not just about statistics, but about showing how every small choice creates a ripple effect, reaching across oceans, and touching generations. Through empathy, education, and innovation, we can spark a movement where every person feels empowered to make an impact. Let’s transform awareness into action, and action into a global revolution of green."],
            "technology": ["Technology isn’t just the tool of progress—it’s the catalyst for transformation. From renewable energy innovations to blockchain for transparency in social causes, technology allows us to leap forward in ways we never imagined. It opens doors for global collaboration, turning problems into solutions."],
            "sustainability": ["True progress is not measured in GDP numbers, but in how we preserve the beauty of the world while building economies that work for all. Sustainability isn’t a barrier to growth; it’s the foundation."],
            "unity": ["The world is not a collection of isolated nations; it’s a web of interconnected lives. True transformation comes when we unite across borders, beyond differences."],
            "youth": ["The energy of youth is unmatched—it’s the fire that fuels revolutions, the voice that echoes across nations. They’re not waiting for change—they’re creating it."],
            "education": ["Education is the seed of global change. It’s the power to unlock potential, break down walls, and ignite minds with the understanding that the world can be different."],
            "equality": ["Social inequality is a deeply rooted system, but it’s one we can dismantle. True equality means recognizing our shared humanity and ensuring every voice is heard."],
            "collective": ["The most powerful tool is the collective will of a unified humanity. When we combine compassion with determination, we create a force capable of dismantling barriers."],
            "peace": ["Peace isn’t a mere absence of conflict; it’s a state of active harmony where differences are celebrated. It starts with small acts of kindness."],
            "local": ["Global change is built on local action. Every individual effort is a building block in the foundation of a transformed world."],
            "mental": [
                "No one cares. That's actually the advice - it frees you from worrying about others' judgments and lets you live authentically.",
                "Mental health is just as important as physical health. Don’t neglect it - nurturing your mind is key to a balanced, happy life.",
                "Take care of yourself first. You can't pour from an empty cup - self-care is the foundation for helping others effectively.",
                "It's okay to not be okay - accepting your struggles is the first step to healing and growing stronger."
            ]
        }

        # Keywords mapped to categories
        keywords = {
            "climate": ["climate", "global warming", "environment"],
            "technology": ["technology", "innovation", "tech"],
            "sustainability": ["sustainability", "green", "renewable"],
            "unity": ["unity", "global", "together"],
            "youth": ["youth", "young", "future"],
            "education": ["education", "learning", "knowledge"],
            "equality": ["equality", "justice", "fairness"],
            "collective": ["collective", "together", "humanity"],
            "peace": ["peace", "harmony", "kindness"],
            "local": ["local", "community", "action"],
            "mental": ["mental health", "self-care", "judgment", "healing", "okay"]
        }

        # Flatten all responses for "all" category
        all_responses = [resp for cat in responses.values() for resp in cat]

        # Page switching
        def switch_page(page_id):
            for section in document.querySelectorAll("section"):
                section.classList.remove("active")
            for btn in document.querySelectorAll("nav button"):
                btn.classList.remove("active")
            document.getElementById(page_id).classList.add("active")
            document.getElementById(f"{page_id}Btn").classList.add("active")

        # Chat functions
        def display_message(message, sender):
            chat_box = document.getElementById("chatBox")
            message_div = document.createElement("div")
            message_div.classList.add("message", sender)
            message_div.textContent = message
            chat_box.appendChild(message_div)
            chat_box.scrollTop = chat_box.scrollHeight

        def get_response(user_input, category_filter):
            user_input = user_input.lower()
            if category_filter == "all":
                applicable_responses = all_responses
            else:
                applicable_responses = responses.get(category_filter, all_responses)
            for category, key_list in keywords.items():
                if any(key in user_input for key in key_list):
                    if category_filter == "all" or category_filter == category:
                        return random.choice(responses[category])
            return random.choice(applicable_responses) if applicable_responses else "Ask me about climate, equality, or mental health for inspiration!"

        def send_message(event):
            user_input = document.getElementById("userInput").value.strip()
            if not user_input:
                return
            display_message(user_input, "user")
            document.getElementById("userInput").value = ""
            category_filter = document.getElementById("categoryFilter").value
            response = get_response(user_input, category_filter)
            display_message(response, "ai")

        def clear_chat(event):
            document.getElementById("chatBox").innerHTML = ""

        def save_chat(event):
            chat_box = document.getElementById("chatBox")
            chat_content = chat_box.textContent
            timestamp = datetime.now().strftime("%Y-%m-%d_%H-%M-%S")
            filename = f"brainstorm_chat_{timestamp}.txt"
            try:
                with open(filename, "w") as f:
                    f.write(chat_content)
                display_message(f"Chat saved as {filename}", "ai")
            except:
                display_message("Save not supported in browser. Copy the chat manually!", "ai")

        # Game functions
        def display_game_output(output):
            game_area = document.getElementById("gameArea")
            output_div = document.createElement("div")
            output_div.classList.add("game-output")
            output_div.textContent = output
            game_area.appendChild(output_div)
            game_area.scrollTop = game_area.scrollHeight

        def play_game(event):
            user_input = document.getElementById("gameInput").value.strip()
            if not user_input:
                return
            game_type = document.getElementById("gameSelect").value
            display_game_output(f"Your input: {user_input}")
            if game_type == "wordAssociation":
                words = user_input.split()
                response = f"Associated idea: {random.choice(words)} + {random.choice(['hope', 'action', 'nature', 'unity'])}"
            elif game_type == "ideaChain":
                response = f"Next in chain: {user_input} → {random.choice(['community', 'innovation', 'sustainability', 'peace'])}"
            elif game_type == "whatIf":
                response = f"What if {user_input} led to {random.choice(['global peace', 'clean energy', 'equal opportunities'])}?"
            display_game_output(response)
            document.getElementById("gameInput").value = ""

        def clear_game(event):
            document.getElementById("gameArea").innerHTML = ""

        # Theme toggle
        saved_theme = window.localStorage.getItem("theme")
        if saved_theme == "dark":
            document.querySelector("body").classList.add("dark-theme")
            document.getElementById("themeToggle").textContent = "Light Mode"
        else:
            document.getElementById("themeToggle").textContent = "Dark Mode"

        def toggle_theme(event):
            body = document.querySelector("body")
            body.classList.toggle("dark-theme")
            if "dark-theme" in body.classList:
                window.localStorage.setItem("theme", "dark")
                document.getElementById("themeToggle").textContent = "Light Mode"
            else:
                window.localStorage.setItem("theme", "light")
                document.getElementById("themeToggle").textContent = "Dark Mode"

        # Bind navigation
        document.getElementById("homeBtn").onclick = lambda e: switch_page("home")
        document.getElementById("aboutBtn").onclick = lambda e: switch_page("about")
        document.getElementById("igcBtn").onclick = lambda e: switch_page("igc")
        document.getElementById("plansBtn").onclick = lambda e: switch_page("plans")
        document.getElementById("gameBtn").onclick = lambda e: switch_page("game")
        document.getElementById("themeToggle").onclick = toggle_theme

        # Bind IGC chat controls
        document.getElementById("sendButton").onclick = send_message
        document.getElementById("clearChat").onclick = clear_chat
        document.getElementById("saveChat").onclick = save_chat

        # Bind game controls
        document.getElementById("playGame").onclick = play_game
        document.getElementById("clearGame").onclick = clear_game

        # Enter key support
        def on_chat_enter(event):
            if event.key == "Enter":
                send_message(event)
        document.getElementById("userInput").onkeypress = on_chat_enter

        def on_game_enter(event):
            if event.key == "Enter":
                play_game(event)
        document.getElementById("gameInput").onkeypress = on_game_enter
    </script>
</body>
</html>
